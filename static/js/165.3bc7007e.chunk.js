"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[165],{4165:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var o=n(9439),i=n(2791),r=n(8422),a=n(7760),l=(n(2979),n(3447));var c=n(7710),u=n(4208),s=n(184);function p(e){var t=e.pX,n=e.pY,o=e.pZ,r=e.filter,l=e.handlePointOut,c=e.handlePointOver,u=e.hovered,p=(0,i.useMemo)((function(){var e=new a.Vector3(t,n,o),i=new a.Vector3(t,n,0);return(new a.BufferGeometry).setFromPoints([e,i])}),[r]);return(0,s.jsx)("line",{onPointerOver:c,onPointerOut:l,onUpdate:function(e){e.computeLineDistances()},geometry:p,children:(0,s.jsx)("lineDashedMaterial",{color:"black",opacity:u?.8:0,transparent:!0,linewidth:1,scale:2,dashSize:.5,gapSize:.5})})}function f(e){var t=e.pX,n=e.pY,c=e.pZ,u=e.pColor,f=e.content,d=e.filter,v=e.i,h=e.dataObj,m=e.setClickDetail,x=(0,i.useState)(!1),g=(0,o.Z)(x,2),O=g[0],P=g[1],w=(0,i.useState)((function(){return e=new a.MeshBasicMaterial,(0,l.B$)(e,Object.assign({vertexMainOutro:"\nvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nvec3 scale = vec3(\n  length(modelViewMatrix[0].xyz),\n  length(modelViewMatrix[1].xyz),\n  length(modelViewMatrix[2].xyz)\n  );\n// size attenuation: scale *= -mvPosition.z * 0.2;\nmvPosition.xyz += position * scale;\ngl_Position = projectionMatrix * mvPosition;\n"},t));var e,t})),y=(0,o.Z)(w,1)[0];return(0,i.useEffect)((function(){document.body.style.cursor=O?"pointer":"auto"}),[O]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.x,{anchorX:"left",fontSize:1.2,position:[t,n,c],color:u,material:y,outlineWidth:0,outlineOffsetX:.1,outlineOffsetY:.1,outlineOffsetZ:.1,outlineBlur:.5,outlineOpacity:O?.4:0,outlineColor:u,onPointerUp:function(){m(h)},onPointerOver:function(e){return P(!0)},onPointerOut:function(e){return P(!1)},children:f}),(0,s.jsx)(p,{pX:t,pY:n,pZ:c,filter:d,hovered:O},"line-".concat(v))]})}var d=function(e){var t=e.filter,n=e.wordcloud,o=e.setClickDetail,i=(0,c.eo)(u,t),r=[];return i.forEach((function(e,i){if(e.long){var a=-(0,c.GM)(e.long),l=(0,c._G)(e.lat),u=(0,c.P3)(e.year),p=c.Cw[e.group],d=n&&e.group>-1?c.Ss[e.group][0]:e.coname;r.push((0,s.jsx)(f,{pX:a,pY:l,pZ:u,pColor:p,content:d,filter:t,i:i,dataObj:e,setClickDetail:o},"text-".concat(i)))}})),(0,s.jsx)(s.Fragment,{children:r})}}}]);
//# sourceMappingURL=165.3bc7007e.chunk.js.map