"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[165],{4165:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var o=t(9439),i=t(2791),r=t(8422),a=t(323),u=t(3447);var c=t(7710),l=t(4208),s=t(184);function f(e){var n=e.pX,t=e.pY,o=e.pZ,r=e.filter,u=e.handlePointOut,c=e.handlePointOver,l=e.hovered,f=(0,i.useMemo)((function(){var e=new a.Vector3(n,t,o),i=new a.Vector3(n,t,0);return(new a.BufferGeometry).setFromPoints([e,i])}),[r]);return(0,s.jsx)("line",{onPointerOver:c,onPointerOut:u,onUpdate:function(e){e.computeLineDistances()},geometry:f,children:(0,s.jsx)("lineDashedMaterial",{color:"black",opacity:l?.8:.3,transparent:!0,linewidth:1,scale:2,dashSize:.5,gapSize:.5})})}function p(e){var n=e.pX,t=e.pY,c=e.pZ,l=e.pColor,p=e.content,d=e.filter,h=e.i,v=(0,i.useState)(!1),m=(0,o.Z)(v,2),x=m[0],P=m[1],O=(0,i.useState)((function(){return e=new a.MeshBasicMaterial,(0,u.B$)(e,Object.assign({vertexMainOutro:"\nvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nvec3 scale = vec3(\n  length(modelViewMatrix[0].xyz),\n  length(modelViewMatrix[1].xyz),\n  length(modelViewMatrix[2].xyz)\n  );\n// size attenuation: scale *= -mvPosition.z * 0.2;\nmvPosition.xyz += position * scale;\ngl_Position = projectionMatrix * mvPosition;\n"},n));var e,n})),g=(0,o.Z)(O,1)[0];return(0,i.useEffect)((function(){document.body.style.cursor=x?"pointer":"auto"}),[x]),(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(r.x,{anchorX:"left",fontSize:1,position:[n,t,c],color:l,material:g,outlineWidth:0,outlineOffsetX:.1,outlineOffsetY:.1,outlineOffsetZ:.1,outlineBlur:.5,outlineOpacity:x?.4:0,outlineColor:l,onPointerOver:function(e){return P(!0)},onPointerOut:function(e){return P(!1)},children:p}),(0,s.jsx)(f,{pX:n,pY:t,pZ:c,filter:d,handlePointOver:function(e){return P(!0)},handlePointOut:function(e){return P(!1)},hovered:x},"line-".concat(h))]})}var d=function(e){var n=e.filter,t=e.wordcloud,o=(0,c.cm)(l,n),r=[];return o.forEach((function(e,o){var i=-(0,c.GM)(e.long),a=(0,c._G)(e.lat),u=(0,c.P3)(e.year),l=c.Cw[e.group],f=t&&e.group>-1?c.Ss[e.group][0]:e.coname;r.push((0,s.jsx)(p,{pX:i,pY:a,pZ:u,pColor:l,content:f,filter:n,i:o},"text-".concat(o)))})),(0,s.jsx)(i.Fragment,{children:r})}}}]);
//# sourceMappingURL=165.61b3e310.chunk.js.map