"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[165],{4165:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var i=n(9439),o=n(2791),r=n(8422),a=n(7760),l=(n(2979),n(3447));var c=n(7710),u=n(4208),s=n(184);function f(e){var t=e.pX,n=e.pY,i=e.pZ,r=e.filter,l=e.handlePointOut,c=e.handlePointOver,u=e.hovered,f=(0,o.useMemo)((function(){var e=new a.Vector3(t,n,i),o=new a.Vector3(t,n,0);return(new a.BufferGeometry).setFromPoints([e,o])}),[r]);return(0,s.jsx)("line",{onPointerOver:c,onPointerOut:l,onUpdate:function(e){e.computeLineDistances()},geometry:f,children:(0,s.jsx)("lineDashedMaterial",{color:"black",opacity:u?.8:0,transparent:!0,linewidth:1,scale:2,dashSize:.5,gapSize:.5})})}function p(e){var t=e.pX,n=e.pY,c=e.pZ,u=e.pColor,p=e.content,d=e.filter,v=e.i,h=e.dataObj,m=e.setClickDetail,x=(0,o.useState)(!1),O=(0,i.Z)(x,2),P=O[0],y=O[1],g=(0,o.useState)((function(){return e=new a.MeshBasicMaterial,(0,l.B$)(e,Object.assign({vertexMainOutro:"\nvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nvec3 scale = vec3(\n  length(modelViewMatrix[0].xyz),\n  length(modelViewMatrix[1].xyz),\n  length(modelViewMatrix[2].xyz)\n  );\n// size attenuation: scale *= -mvPosition.z * 0.2;\nmvPosition.xyz += position * scale;\ngl_Position = projectionMatrix * mvPosition;\n"},t));var e,t})),w=(0,i.Z)(g,1)[0];return(0,o.useEffect)((function(){document.body.style.cursor=P?"pointer":"auto"}),[P]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.x,{anchorX:"left",fontSize:1.2,position:[t,n,c],color:u,material:w,outlineWidth:0,outlineOffsetX:.1,outlineOffsetY:.1,outlineOffsetZ:.1,outlineBlur:.5,outlineOpacity:P?.4:0,outlineColor:u,onPointerUp:function(){m(h)},onPointerOver:function(e){return y(!0)},onPointerOut:function(e){return y(!1)},children:p}),(0,s.jsx)(f,{pX:t,pY:n,pZ:c,filter:d,hovered:P},"line-".concat(v))]})}var d=function(e){var t=e.filter,n=e.setClickDetail,i=e.timeline,o=(0,c.eo)(u,t),r=[];return o.forEach((function(e,o){if(e.long){var a=-(0,c.GM)(e.long),l=(0,c._G)(e.lat),u=(0,c.P3)(e.year,"text",i),f=c.Cw[e.group],d=e.coname;r.push((0,s.jsx)(p,{pX:a,pY:l,pZ:u,pColor:f,content:d,filter:t,i:o,dataObj:e,setClickDetail:n},"text-".concat(e.id)))}})),(0,s.jsx)(s.Fragment,{children:r})}}}]);
//# sourceMappingURL=165.75c0bcc7.chunk.js.map